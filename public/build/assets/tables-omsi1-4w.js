import{d as i,r as d}from"./app-D6oW_nBt.js";import"./alpine-BkKOMYu4.js";function p(){const a=new URL(window.location.href);document.querySelectorAll("#filter input").forEach(e=>{const t=a.searchParams.get(e.name);if(t){e.value=t;const n=e.parentElement.querySelector(".clear-filter");n&&(n.style.display="block")}});function r(){window.history.pushState("","phpIP",a),d(a,"tableList")}const l=document.getElementById("filter");l&&l.addEventListener("input",i(e=>{if(e.target.value.length===0){a.searchParams.delete(e.target.name);const t=e.target.parentElement.querySelector(".clear-filter");t&&(t.style.display="none")}else{a.searchParams.set(e.target.name,e.target.value);const t=e.target.parentElement.querySelector(".clear-filter");t&&(t.style.display="block")}a.searchParams.delete("page"),r()},300)),document.addEventListener("click",e=>{if(e.target.closest(".clear-filter")){const t=e.target.closest(".clear-filter"),n=t.dataset.target,o=document.querySelector(`input[name="${n}"]`);o&&(o.value="",t.style.display="none",a.searchParams.delete(n),a.searchParams.delete("page"),r())}});const s=document.getElementById("ajaxModal");s&&s.addEventListener("hidden.bs.modal",function(e){r()});const c=document.getElementById("ajaxPanel");c&&c.addEventListener("xhrsent",function(e){r()})}export{p as initTables};
