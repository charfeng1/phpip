const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/matter-show-Db2olNqw.js","assets/alpine-BkKOMYu4.js","assets/home-CSx43jG4.js","assets/tables-DQ0t9D2c.js","assets/matter-index-WKDltPV2.js","assets/renewal-index-D2_nCMWt.js","assets/actor-index-EbTK2Hjg.js","assets/user-index-BfEj-RPV.js"])))=>i.map(i=>d[i]);
import{m as V}from"./alpine-BkKOMYu4.js";const j="modulepreload",B=function(e){return"/build/"+e},H={},_=function(s,a,r){let n=Promise.resolve();if(a&&a.length>0){let u=function(x){return Promise.all(x.map(E=>Promise.resolve(E).then(t=>({status:"fulfilled",value:t}),t=>({status:"rejected",reason:t}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),b=g?.nonce||g?.getAttribute("nonce");n=u(a.map(x=>{if(x=B(x),x in H)return;H[x]=!0;const E=x.endsWith(".css"),t=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${t}`))return;const i=document.createElement("link");if(i.rel=E?"stylesheet":j,E||(i.as="script"),i.crossOrigin="",i.href=x,b&&i.setAttribute("nonce",b),document.head.appendChild(i),E)return new Promise((l,o)=>{i.addEventListener("load",l),i.addEventListener("error",()=>o(new Error(`Unable to preload CSS for ${x}`)))})}))}function h(u){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=u,window.dispatchEvent(g),!g.defaultPrevented)throw u}return n.then(u=>{for(const g of u||[])g.status==="rejected"&&h(g.reason);return s().catch(h)})};function U(){return{open:!1,x:0,y:0,items:[],target:null,highlightedIndex:-1,init(){this.$el.addEventListener("context-menu",e=>{this.show(e.detail.event,e.detail.items,e.detail.target)}),this._handleKeydown=e=>{this.open&&this.handleKeydown(e)},this._handleClick=e=>{this.open&&!this.$refs.menu?.contains(e.target)&&this.close()},this._handleScroll=()=>{this.open&&this.close()},document.addEventListener("keydown",this._handleKeydown),document.addEventListener("click",this._handleClick),document.addEventListener("scroll",this._handleScroll,!0)},destroy(){document.removeEventListener("keydown",this._handleKeydown),document.removeEventListener("click",this._handleClick),document.removeEventListener("scroll",this._handleScroll,!0)},show(e,s,a=null){e.preventDefault(),e.stopPropagation(),this.items=s.filter(u=>!u.hidden),this.target=a,this.highlightedIndex=-1;const r=8;let n=e.clientX,h=e.clientY;this.x=n,this.y=h,this.open=!0,this.$nextTick(()=>{const u=this.$refs.menu;if(!u)return;const g=u.getBoundingClientRect(),b=window.innerWidth,x=window.innerHeight;n+g.width>b-r&&(n=b-g.width-r),n<r&&(n=r),h+g.height>x-r&&(h=x-g.height-r),h<r&&(h=r),this.x=n,this.y=h,u.focus()})},close(){this.open=!1,this.items=[],this.target=null,this.highlightedIndex=-1},execute(e){e.disabled||(e.action&&typeof e.action=="function"?e.action(this.target):e.href?window.location.href=e.href:e.dispatch&&this.$dispatch(e.dispatch.event,e.dispatch.detail),this.close())},handleKeydown(e){const s=this.items.filter(a=>a.type!=="divider"&&!a.disabled);switch(e.key){case"Escape":e.preventDefault(),this.close();break;case"ArrowDown":e.preventDefault(),this.highlightNext(s);break;case"ArrowUp":e.preventDefault(),this.highlightPrevious(s);break;case"Enter":case" ":if(e.preventDefault(),this.highlightedIndex>=0){const a=s[this.highlightedIndex];a&&this.execute(a)}break;case"Home":e.preventDefault(),this.highlightedIndex=0;break;case"End":e.preventDefault(),this.highlightedIndex=s.length-1;break;default:if(e.key.length===1&&!e.ctrlKey&&!e.metaKey){const a=e.key.toLowerCase(),r=this.highlightedIndex+1,n=s.findIndex((h,u)=>u>=r&&h.label?.toLowerCase().startsWith(a));if(n>=0)this.highlightedIndex=n;else{const h=s.findIndex(u=>u.label?.toLowerCase().startsWith(a));h>=0&&(this.highlightedIndex=h)}}break}},highlightNext(e){this.highlightedIndex<e.length-1?this.highlightedIndex++:this.highlightedIndex=0},highlightPrevious(e){this.highlightedIndex>0?this.highlightedIndex--:this.highlightedIndex=e.length-1},isHighlighted(e){return this.items.filter(a=>a.type!=="divider"&&!a.disabled)[this.highlightedIndex]===e},formatShortcut(e){if(!e)return"";const s=navigator.platform.toUpperCase().indexOf("MAC")>=0;return e.replace(/Cmd\+/gi,s?"⌘":"Ctrl+").replace(/Ctrl\+/gi,s?"⌃":"Ctrl+").replace(/Alt\+/gi,s?"⌥":"Alt+").replace(/Shift\+/gi,s?"⇧":"Shift+").replace(/Enter/gi,"↵").replace(/Delete/gi,s?"⌫":"Del").replace(/Backspace/gi,s?"⌫":"Bksp").replace(/Escape/gi,"Esc").replace(/ArrowUp/gi,"↑").replace(/ArrowDown/gi,"↓").replace(/ArrowLeft/gi,"←").replace(/ArrowRight/gi,"→")},getItemIndex(e){return this.items.indexOf(e)}}}function K(){return{showHelp:!1,shortcuts:new Map,sequenceBuffer:"",sequenceTimeout:null,lastKeyTime:0,init(){this.registerDefaults()},registerDefaults(){this.register("?",()=>this.toggleHelp(),"Show keyboard shortcuts","General"),this.register("g m",()=>this.navigate("/matter"),"Go to matters","Navigation"),this.register("g t",()=>this.navigate("/task"),"Go to tasks","Navigation"),this.register("g r",()=>this.navigate("/renewal"),"Go to renewals","Navigation"),this.register("g a",()=>this.navigate("/actor"),"Go to actors","Navigation"),this.register("g h",()=>this.navigate("/"),"Go to home","Navigation"),this.register("ctrl+n",()=>this.dispatch("create-matter"),"Create new matter","Actions"),this.register("ctrl+f",()=>this.focusSearch(),"Focus search","Actions"),this.register("ctrl+s",()=>this.saveForm(),"Save current form","Actions"),this.register("escape",()=>this.closeAll(),"Close modal/menu","General"),this.register("ctrl+k",()=>this.dispatch("open-command-palette"),"Command palette","General")},register(e,s,a="",r="General"){const n=this.normalizeCombo(e);this.shortcuts.set(n,{combo:n,displayCombo:e,action:s,description:a,category:r})},unregister(e){const s=this.normalizeCombo(e);this.shortcuts.delete(s)},normalizeCombo(e){return e.toLowerCase().replace(/cmd\+/g,"meta+").replace(/command\+/g,"meta+").replace(/\s+/g," ").trim()},handleKeydown(e){if(this.isEditableElement(e.target)&&e.key!=="Escape")return;const s=this.buildCombo(e),a=Date.now();if(a-this.lastKeyTime<1e3&&this.sequenceBuffer){const r=`${this.sequenceBuffer} ${s}`;if(this.tryExecute(r,e)){this.clearSequence();return}}if(this.tryExecute(s,e)){this.clearSequence();return}this.isSequenceStarter(s)&&(this.sequenceBuffer=s,this.lastKeyTime=a,clearTimeout(this.sequenceTimeout),this.sequenceTimeout=setTimeout(()=>{this.clearSequence()},1e3))},buildCombo(e){const s=[];e.ctrlKey&&s.push("ctrl"),e.altKey&&s.push("alt"),e.shiftKey&&s.push("shift"),e.metaKey&&s.push("meta");let a=e.key.toLowerCase();return a===" "&&(a="space"),a==="arrowup"&&(a="up"),a==="arrowdown"&&(a="down"),a==="arrowleft"&&(a="left"),a==="arrowright"&&(a="right"),["control","alt","shift","meta"].includes(a)||s.push(a),s.join("+")},tryExecute(e,s){const a=this.shortcuts.get(e);if(a){s.preventDefault(),s.stopPropagation();try{a.action()}catch(r){console.error(`Shortcut error [${e}]:`,r)}return!0}return!1},isSequenceStarter(e){for(const[s]of this.shortcuts)if(s.startsWith(e+" "))return!0;return!1},clearSequence(){this.sequenceBuffer="",clearTimeout(this.sequenceTimeout)},isEditableElement(e){const s=e.tagName.toLowerCase(),a=s==="input"||s==="textarea"||s==="select",r=e.isContentEditable;return a||r},toggleHelp(){this.showHelp=!this.showHelp},navigate(e){window.location.href=e},dispatch(e,s={}){window.dispatchEvent(new CustomEvent(e,{detail:s}))},focusSearch(){const e=document.querySelector('#search, [data-search], input[type="search"]');e&&(e.focus(),e.select())},saveForm(){const e=document.querySelector("form:not([data-no-save])");e&&e.requestSubmit()},closeAll(){this.dispatch("close-all"),document.querySelectorAll(".modal.show").forEach(s=>{const a=window.bootstrap?.Modal?.getInstance(s);a&&a.hide()}),document.querySelectorAll(".dropdown-content.show, .dropdown-menu.show").forEach(s=>s.classList.remove("show")),this.showHelp=!1},getGroupedShortcuts(){const e={};for(const[,s]of this.shortcuts){const a=s.category||"General";e[a]||(e[a]=[]),e[a].push(s)}return e},formatShortcut(e){const s=navigator.platform.toUpperCase().indexOf("MAC")>=0;return e.split(" ").map(a=>a.split("+").map(r=>{const n=r.replace(/^meta$/i,s?"⌘":"Ctrl").replace(/^ctrl$/i,s?"⌃":"Ctrl").replace(/^alt$/i,s?"⌥":"Alt").replace(/^shift$/i,s?"⇧":"Shift").replace(/^escape$/i,"Esc").replace(/^enter$/i,"↵").replace(/^space$/i,"Space").replace(/^up$/i,"↑").replace(/^down$/i,"↓").replace(/^left$/i,"←").replace(/^right$/i,"→");return n.length===1?n.toUpperCase():n}).join(s?"":"+")).join(" then ")}}}function X(){return{isOpen:!1,title:"",content:"",size:"md",loading:!1,closeable:!0,onClose:null,onOpen:null,init(){this._closeAllHandler=()=>this.close(),this._escapeHandler=e=>{e.key==="Escape"&&this.isOpen&&this.closeable&&this.close()},window.addEventListener("close-all",this._closeAllHandler),document.addEventListener("keydown",this._escapeHandler)},destroy(){window.removeEventListener("close-all",this._closeAllHandler),document.removeEventListener("keydown",this._escapeHandler)},async open(e={}){if(this.title=e.title||"",this.size=e.size||"md",this.closeable=e.closeable!==!1,this.onClose=e.onClose||null,this.onOpen=e.onOpen||null,e.url){this.loading=!0,this.content="",this.isOpen=!0;try{const s=await fetch(e.url,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"text/html"}});if(!s.ok)throw new Error(`HTTP ${s.status}`);this.content=await s.text()}catch(s){console.error("Modal load error:",s),this.content=`
            <div class="alert alert-error">
              <span>Failed to load content. Please try again.</span>
            </div>
          `}finally{this.loading=!1}}else this.content=e.content||"",this.isOpen=!0;this.$nextTick(()=>{const s=this.$refs.dialog;if(s){const a=s.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');a&&a.focus()}this.onOpen&&this.onOpen()}),document.body.style.overflow="hidden"},close(){this.closeable&&(this.isOpen=!1,document.body.style.overflow="",this.onClose&&this.onClose(),setTimeout(()=>{this.content="",this.title="",this.loading=!1},200))},async submitForm(e){e.preventDefault();const s=e.target;let a=s.action;const r=s.method.toUpperCase();this.loading=!0;try{const n=new FormData(s),h=document.querySelector('meta[name="csrf-token"]')?.content,u={method:r,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}};if(h&&(u.headers["X-CSRF-TOKEN"]=h),r==="GET"){const E=new URLSearchParams(n);a+="?"+E.toString()}else u.body=n;const g=await fetch(a,u);let b;const x=g.headers.get("content-type");if(x&&x.includes("application/json"))b=await g.json();else{const E=await g.text();throw new Error(g.ok?"Unexpected response format":`Server error: ${g.status}`)}if(!g.ok){if(g.status===422&&b.errors)this.showValidationErrors(s,b.errors);else throw new Error(b.message||"Request failed");return}window.dispatchEvent(new CustomEvent("modal-success",{detail:{data:b,form:s.id||null}})),b.message&&window.dispatchEvent(new CustomEvent("toast",{detail:{message:b.message,type:"success"}})),this.close(),b.reload?window.location.reload():b.redirect&&(window.location.href=b.redirect)}catch(n){console.error("Form submission error:",n),window.dispatchEvent(new CustomEvent("toast",{detail:{message:n.message||"An error occurred",type:"error"}}))}finally{this.loading=!1}},showValidationErrors(e,s){e.querySelectorAll(".input-error, .select-error, .textarea-error").forEach(a=>{a.classList.remove("input-error","select-error","textarea-error")}),e.querySelectorAll(".error-message").forEach(a=>a.remove());for(const[a,r]of Object.entries(s)){const n=e.querySelector(`[name="${a}"]`);if(n){const h=n.tagName.toLowerCase(),u=h==="select"?"select-error":h==="textarea"?"textarea-error":"input-error";n.classList.add(u);const g=document.createElement("p");g.className="error-message text-error text-sm mt-1",g.textContent=Array.isArray(r)?r[0]:r,n.parentNode.appendChild(g)}}},getSizeClass(){const e={sm:"max-w-sm",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"};return e[this.size]||e.md}}}function R(){return{open:!1,highlightedIndex:-1,items:[],selectedValue:null,searchQuery:"",searchTimeout:null,init(){this._handleClick=e=>{this.open&&!this.$el.contains(e.target)&&this.close()},this._handleKeydown=e=>{e.key==="Escape"&&this.open&&this.close()},this._handleDropdownOpened=e=>{e.detail.id!==this.$el.id&&this.open&&this.close()},document.addEventListener("click",this._handleClick),document.addEventListener("keydown",this._handleKeydown),window.addEventListener("dropdown-opened",this._handleDropdownOpened)},destroy(){document.removeEventListener("click",this._handleClick),document.removeEventListener("keydown",this._handleKeydown),window.removeEventListener("dropdown-opened",this._handleDropdownOpened),clearTimeout(this.searchTimeout)},toggle(){this.open?this.close():this.openDropdown()},openDropdown(){this.open=!0,this.highlightedIndex=-1,this.searchQuery="",window.dispatchEvent(new CustomEvent("dropdown-opened",{detail:{id:this.$el.id}})),this.$nextTick(()=>{const e=this.$el.querySelector(".dropdown-content, .menu");e&&(this.items=Array.from(e.querySelectorAll('li > a, li > button, [role="menuitem"]')))})},close(){this.open=!1,this.highlightedIndex=-1,this.searchQuery=""},select(e,s){this.selectedValue=e,this.$dispatch("dropdown-select",{value:e}),s?.target?.dataset?.keepOpen||this.close()},handleKeydown(e){if(!this.open){(e.key==="ArrowDown"||e.key==="Enter"||e.key===" ")&&(e.preventDefault(),this.openDropdown());return}switch(e.key){case"ArrowDown":e.preventDefault(),this.highlightNext();break;case"ArrowUp":e.preventDefault(),this.highlightPrevious();break;case"Enter":case" ":e.preventDefault(),this.highlightedIndex>=0&&this.items[this.highlightedIndex]&&this.items[this.highlightedIndex].click();break;case"Home":e.preventDefault(),this.highlightedIndex=0,this.scrollToHighlighted();break;case"End":e.preventDefault(),this.highlightedIndex=this.items.length-1,this.scrollToHighlighted();break;case"Tab":this.close();break;default:e.key.length===1&&!e.ctrlKey&&!e.metaKey&&!e.altKey&&this.handleTypeAhead(e.key);break}},highlightNext(){this.highlightedIndex<this.items.length-1?this.highlightedIndex++:this.highlightedIndex=0,this.scrollToHighlighted()},highlightPrevious(){this.highlightedIndex>0?this.highlightedIndex--:this.highlightedIndex=this.items.length-1,this.scrollToHighlighted()},scrollToHighlighted(){const e=this.items[this.highlightedIndex];e&&e.scrollIntoView({block:"nearest"})},handleTypeAhead(e){clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchQuery=""},500),this.searchQuery+=e.toLowerCase();const s=this.highlightedIndex+1;let a=!1;for(let r=s;r<this.items.length;r++)if(this.matchesSearch(this.items[r])){this.highlightedIndex=r,a=!0;break}if(!a){for(let r=0;r<s;r++)if(this.matchesSearch(this.items[r])){this.highlightedIndex=r;break}}this.scrollToHighlighted()},matchesSearch(e){return(e.textContent?.toLowerCase()||"").startsWith(this.searchQuery)},isHighlighted(e){return this.highlightedIndex===e}}}function z(e={}){return{...R(),value:e.value||null,options:e.options||[],placeholder:e.placeholder||"Select...",searchable:e.searchable||!1,multiple:e.multiple||!1,selectedValues:e.multiple?Array.isArray(e.value)?e.value:[]:[],filterQuery:"",getDisplayText(){return this.multiple?this.selectedValues.length===0?this.placeholder:this.selectedValues.length===1?this.options.find(r=>r.value===this.selectedValues[0])?.label||this.placeholder:`${this.selectedValues.length} selected`:this.value?this.options.find(a=>a.value===this.value)?.label||this.placeholder:this.placeholder},selectOption(s){if(this.multiple){const a=this.selectedValues.indexOf(s);a>=0?this.selectedValues.splice(a,1):this.selectedValues.push(s),this.$dispatch("change",{value:this.selectedValues})}else this.value=s,this.$dispatch("change",{value:this.value}),this.close()},isSelected(s){return this.multiple?this.selectedValues.includes(s):this.value===s},clear(){this.multiple?(this.selectedValues=[],this.$dispatch("change",{value:[]})):(this.value=null,this.$dispatch("change",{value:null}))}}}function O(e={}){return{url:e.url||"",minLength:e.minLength??1,valueField:e.valueField||"id",labelField:e.labelField||"name",target:e.target||null,params:e.params||{},debounceMs:e.debounceMs||300,maxResults:e.maxResults||10,allowCreate:e.allowCreate||!1,createLabel:e.createLabel||'Create "{query}"',query:e.initialQuery||"",suggestions:[],open:!1,loading:!1,selectedValue:e.initialValue||null,selectedItem:null,highlightedIndex:-1,abortController:null,init(){this.selectedValue&&e.initialLabel&&(this.query=e.initialLabel),this._clickOutsideHandler=s=>{this.open&&!this.$el.contains(s.target)&&this.close()},document.addEventListener("click",this._clickOutsideHandler)},destroy(){document.removeEventListener("click",this._clickOutsideHandler)},async search(){if(this.abortController&&this.abortController.abort(),this.query.length<this.minLength){this.suggestions=[],this.close();return}this.selectedItem&&this.query!==this.getLabel(this.selectedItem)&&(this.selectedValue=null,this.selectedItem=null,this.updateTarget(null)),this.loading=!0,this.abortController=new AbortController;try{const s=new URLSearchParams({q:this.query,limit:this.maxResults,...this.params}),a=await fetch(`${this.url}?${s}`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},signal:this.abortController.signal});if(!a.ok)throw new Error(`HTTP ${a.status}`);const r=await a.json();this.suggestions=Array.isArray(r)?r:r.data||r.results||[],this.allowCreate&&this.query&&!this.suggestions.some(n=>this.getLabel(n).toLowerCase()===this.query.toLowerCase())&&this.suggestions.push({[this.valueField]:"__create__",[this.labelField]:this.createLabel.replace("{query}",this.query),__isCreate:!0,__createValue:this.query}),this.open=this.suggestions.length>0,this.highlightedIndex=-1}catch(s){s.name!=="AbortError"&&(console.error("Autocomplete search error:",s),this.suggestions=[])}finally{this.loading=!1}},select(s){s.__isCreate?(this.$dispatch("autocomplete-create",{value:s.__createValue,target:this.target}),this.query=s.__createValue,this.selectedValue=null,this.selectedItem=null):(this.selectedItem=s,this.selectedValue=this.getValue(s),this.query=this.getLabel(s),this.updateTarget(this.selectedValue),this.$dispatch("autocomplete-select",{item:s,value:this.selectedValue,target:this.target})),this.close()},clear(){this.query="",this.selectedValue=null,this.selectedItem=null,this.suggestions=[],this.updateTarget(null),this.$dispatch("autocomplete-clear",{target:this.target})},close(){this.open=!1,this.highlightedIndex=-1},handleKeydown(s){switch(s.key){case"ArrowDown":s.preventDefault(),!this.open&&this.suggestions.length>0?this.open=!0:this.highlightNext();break;case"ArrowUp":s.preventDefault(),this.highlightPrevious();break;case"Enter":s.preventDefault(),this.open&&this.highlightedIndex>=0&&this.select(this.suggestions[this.highlightedIndex]);break;case"Escape":s.preventDefault(),this.open?this.close():this.selectedItem&&(this.query=this.getLabel(this.selectedItem));break;case"Tab":this.open&&this.highlightedIndex>=0&&this.select(this.suggestions[this.highlightedIndex]),this.close();break}},highlightNext(){this.highlightedIndex<this.suggestions.length-1?this.highlightedIndex++:this.highlightedIndex=0,this.scrollToHighlighted()},highlightPrevious(){this.highlightedIndex>0?this.highlightedIndex--:this.highlightedIndex=this.suggestions.length-1,this.scrollToHighlighted()},scrollToHighlighted(){this.$nextTick(()=>{const a=this.$el.querySelector("ul, .dropdown-content")?.children[this.highlightedIndex];a&&a.scrollIntoView({block:"nearest"})})},getValue(s){return s[this.valueField]},getLabel(s){return s[this.labelField]||""},updateTarget(s){if(this.target){const a=`[name="${this.target}"], #${this.target}`,r=this.$el.querySelector(a)||this.$el.closest("form")?.querySelector(a)||document.querySelector(a);r&&(r.value=s||"",r.dispatchEvent(new Event("change",{bubbles:!0})))}},isHighlighted(s){return this.highlightedIndex===s},handleFocus(){this.query.length>=this.minLength&&this.suggestions.length>0&&(this.open=!0)},handleBlur(){setTimeout(()=>{this.$el.contains(document.activeElement)||this.close()},200)}}}function W(e={}){const s=O(e);return{...s,options:e.options||[],filteredOptions:[],init(){s.init&&s.init.call(this),this.filteredOptions=this.options},search(){const a=this.query.toLowerCase();a?this.filteredOptions=this.options.filter(r=>this.getLabel(r).toLowerCase().includes(a)):this.filteredOptions=this.options,this.suggestions=this.filteredOptions,this.open=!0,this.highlightedIndex=-1},toggle(){this.open?this.close():(this.suggestions=this.options,this.open=!0)}}}function G(e={}){const s=O(e);return{...s,selectedItems:e.initialItems||[],init(){s.init&&s.init.call(this)},select(a){a.__isCreate?this.$dispatch("autocomplete-create",{value:a.__createValue,target:this.target}):this.selectedItems.some(n=>this.getValue(n)===this.getValue(a))||(this.selectedItems.push(a),this.updateTargets(),this.$dispatch("autocomplete-select",{item:a,items:this.selectedItems,target:this.target})),this.query="",this.close()},removeItem(a){const r=this.selectedItems.findIndex(n=>this.getValue(n)===this.getValue(a));r>=0&&(this.selectedItems.splice(r,1),this.updateTargets(),this.$dispatch("autocomplete-remove",{item:a,items:this.selectedItems,target:this.target}))},updateTargets(){this.target&&(this.$el.querySelectorAll(`input[name="${this.target}[]"]`).forEach(a=>a.remove()),this.selectedItems.forEach(a=>{const r=document.createElement("input");r.type="hidden",r.name=`${this.target}[]`,r.value=this.getValue(a),this.$el.appendChild(r)}))},clear(){this.selectedItems=[],this.query="",this.updateTargets(),this.$dispatch("autocomplete-clear",{target:this.target})}}}function $(e={}){return{resource:e.resource||"",field:e.field||"",method:e.method||"PUT",emptyText:e.emptyText||"—",type:e.type||"text",originalValue:e.value??"",currentValue:e.value??"",editing:!1,saving:!1,error:null,get displayValue(){return this.currentValue||this.emptyText},startEdit(){this.editing=!0,this.error=null,this.$nextTick(()=>{const s=this.$el.querySelector("input, textarea, select");s&&(s.focus(),(s.type==="text"||s.tagName==="TEXTAREA")&&s.select())})},cancel(){this.currentValue=this.originalValue,this.editing=!1,this.error=null},async save(){if(this.currentValue===this.originalValue){this.editing=!1;return}this.saving=!0,this.error=null;try{const s=document.querySelector('meta[name="csrf-token"]')?.content,a=await fetch(this.resource,{method:this.method,headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest",...s?{"X-CSRF-TOKEN":s}:{}},body:JSON.stringify({[this.field]:this.currentValue})});let r;const n=a.headers.get("content-type");if(n&&n.includes("application/json"))r=await a.json();else throw new Error(a.ok?"Unexpected response format":`Server error: ${a.status}`);if(!a.ok)throw new Error(r.message||r.errors?.[this.field]?.[0]||"Save failed");this.originalValue=this.currentValue,this.editing=!1,this.$dispatch("inline-edit-saved",{field:this.field,value:this.currentValue,data:r}),this.showSuccessIndicator()}catch(s){console.error("Inline edit error:",s),this.error=s.message,this.currentValue=this.originalValue,this.$dispatch("inline-edit-error",{field:this.field,error:s.message})}finally{this.saving=!1}},showSuccessIndicator(){const s=this.$el;s.classList.add("inline-edit-success"),setTimeout(()=>{s.classList.remove("inline-edit-success")},1e3)},handleKeydown(s){s.key==="Enter"&&this.type!=="textarea"?(s.preventDefault(),this.save()):s.key==="Escape"&&(s.preventDefault(),this.cancel())},handleBlur(s){setTimeout(()=>{this.$el.contains(document.activeElement)||this.save()},100)}}}function Q(e={}){const s=$(e);return{...s,startEdit(){const a=this.$refs.content;if(a){a.contentEditable="true",a.focus();const r=document.createRange();r.selectNodeContents(a);const n=window.getSelection();n.removeAllRanges(),n.addRange(r)}this.editing=!0,this.error=null},cancel(){const a=this.$refs.content;a&&(a.contentEditable="false",a.textContent=this.originalValue),this.editing=!1,this.error=null},async save(){const a=this.$refs.content;a&&(this.currentValue=a.textContent.trim(),a.contentEditable="false"),await s.save.call(this)}}}function J(e={}){return{...$({...e,type:"select"}),options:e.options||[],get displayValue(){return this.options.find(a=>a.value==this.currentValue)?.label||this.currentValue||this.emptyText},handleChange(s){this.currentValue=s.target.value,this.save()}}}function Y(e={}){return{...$({...e,type:"date"}),format:e.format||"Y-m-d",get displayValue(){if(!this.currentValue)return this.emptyText;try{return new Date(this.currentValue).toLocaleDateString()}catch{return this.currentValue||this.emptyText}}}}function Z(e={}){const s=JSON.parse(JSON.stringify(e.fields||{}));return{resource:e.resource||"",fields:JSON.parse(JSON.stringify(e.fields||{})),editing:!1,saving:!1,errors:{},startEdit(){this.editing=!0,this.errors={}},cancel(){for(const[a,r]of Object.entries(s))this.fields[a]=r;this.editing=!1,this.errors={}},async save(){this.saving=!0,this.errors={};try{const a=document.querySelector('meta[name="csrf-token"]')?.content,r=await fetch(this.resource,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest",...a?{"X-CSRF-TOKEN":a}:{}},body:JSON.stringify(this.fields)});let n;const h=r.headers.get("content-type");if(h&&h.includes("application/json"))n=await r.json();else throw new Error(r.ok?"Unexpected response format":`Server error: ${r.status}`);if(!r.ok){if(r.status===422&&n.errors){this.errors=n.errors;return}throw new Error(n.message||"Save failed")}this.editing=!1,this.$dispatch("batch-edit-saved",{data:n})}catch(a){console.error("Batch edit error:",a),this.$dispatch("batch-edit-error",{error:a.message})}finally{this.saving=!1}}}}function ee(e){e.data("contextMenu",U),e.data("keyboardShortcuts",K),e.data("modal",X),e.data("dropdown",R),e.data("selectDropdown",z),e.data("autocomplete",O),e.data("combobox",W),e.data("multiAutocomplete",G),e.data("inlineEdit",$),e.data("contentEditable",Q),e.data("inlineSelect",J),e.data("inlineDate",Y),e.data("batchInlineEdit",Z)}let T="",te;const I=async(e,s)=>{const a=await fetch(e);s.innerHTML=await a.text()},se=async(e,s)=>{const a=await fetch(e),r=new DOMParser().parseFromString(await a.text(),"text/html");document.getElementById(s).innerHTML=r.getElementById(s).innerHTML},S=async(e,s,a)=>{const r=await fetch(e,{headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.head.querySelector("[name=csrf-token]").content},method:s,body:a});switch(r.status){case 500:r.text().then(function(n){alert("Unexpected result: "+n)});break;case 419:alert("Token expired. Refresh the page");break;default:return r.json()}};function ae(e,s,a){var r;return function(){var n=this,h=arguments,u=function(){r=null,a||e.apply(n,h)},g=a&&!r;clearTimeout(r),r=setTimeout(u,s),g&&e.apply(n,h)}}const p=(e,s,a,r)=>{r.insertAdjacentHTML("afterbegin",'<span class="loading loading-spinner loading-sm"></span>');const n=new FormData(s);new URLSearchParams(n),footerAlert.classList.remove("alert-danger"),footerAlert.innerHTML="",S(e,"POST",n).then(h=>{if(h.errors){const u=r.querySelector(".loading");u&&u.remove(),footerAlert.innerHTML=h.message,footerAlert.classList.add("alert-danger"),F(h.errors,s)}else if(h.exception){const u=r.querySelector(".loading");u&&u.remove(),footerAlert.innerHTML=h.message,footerAlert.classList.add("alert-danger")}else h.redirect?location.href=h.redirect:a==="reloadModal"?I(T,ajaxModal.querySelector(".modal-body")):a==="reloadPartial"?I(T,app.querySelector(".reload-part")):location.reload()}).catch(h=>{console.log(h)})},F=(e,s)=>{Object.entries(e).forEach(([a,r])=>{let n=s.querySelector('[data-actarget="'+a+'"]');n||(n=s.elements[a]),n.type==="file"?footerAlert.append(" "+r[0]):(n.value="",n.placeholder=a+" is required"),n.classList.add("is-invalid")})};function re(){app.addEventListener("click",async t=>{const i=t.target.closest('[data-modal-target="#ajaxModal"]');if(i){t.preventDefault(),T=i.href,window.contentSrc=T,ajaxModal.querySelector(".modal-title").innerHTML=i.title||"";const l=ajaxModal.querySelector(".modal-box");if(l.classList.remove("max-w-sm","max-w-md","max-w-lg","max-w-xl","max-w-2xl","max-w-4xl"),i.hasAttribute("data-size")){const o={"modal-sm":"max-w-sm","modal-md":"max-w-md","modal-lg":"max-w-2xl","modal-xl":"max-w-4xl"};l.classList.add(o[i.dataset.size]||"max-w-2xl")}else l.classList.add("max-w-2xl");await I(T,ajaxModal.querySelector(".modal-body")),ajaxModal.showModal()}}),app.addEventListener("show.bs.tab",t=>{t.target.id==="actorUsedInToggle"&&I(t.target.href,actorUsedIn)}),app.addEventListener("click",t=>{if(t.target.matches(".sendDocument")){const c=new FormData(sendDocumentForm);S(t.target.closest("[data-resource]").dataset.resource,"POST",c).then(f=>{f.message?alert(f.message):(document.location.href=f.mailto,t.target.closest("tr").remove())})}if(t.target.matches(".chooseTemplate")){var i=document.getElementById("selectTrForm");if(i==null){var l=document.createElement("tr");l.setAttribute("id","selectTrForm");var o=t.target.closest("tr"),d=o.parentNode,w=o.nextSibling;w?d.insertBefore(l,w):d.appendChild(l),I(t.target.dataset.url,l)}else i.remove()}switch(t.target.id){case"createMatterSubmit":p("/matter",createMatterForm,null,t.target);break;case"deleteMatter":confirm("Deleting the matter. Continue anyway?")&&S(t.target.closest("[data-resource]").dataset.resource,"DELETE").then(y=>{y.message?alert(y.message):location.href=document.referrer});break;case"addTaskToEvent":t.target.closest("tbody").insertAdjacentHTML("beforeend",addTaskFormTemplate.innerHTML),addTaskForm.trigger_id.value=t.target.dataset.event_id;break;case"addTaskSubmit":p("/task",addTaskForm,"reloadModal",t.target);break;case"deleteEvent":confirm("Deleting the event will also delete the linked tasks. Continue anyway?")&&S("/event/"+t.target.dataset.event_id,"DELETE").then(()=>I(T,ajaxModal.querySelector(".modal-body")));break;case"addEventSubmit":p("/event",addEventForm,"reloadModal",t.target);break;case"addClassifierSubmit":p("/classifier",addClassifierForm,"reloadModal",t.target);break;case"deleteTask":case"deleteClassifier":case"removeActor":S(t.target.closest("[data-resource]").dataset.resource,"DELETE").then(()=>I(T,ajaxModal.querySelector(".modal-body")));break;case"deleteTemplate":S(t.target.closest("[data-resource]").dataset.resource,"DELETE").then(()=>I(T,app.querySelector(".reload-part")));break;case"nationalizeSubmit":p("/matter/storeN",natMatterForm,null,t.target);break;case"createFamilySubmit":p("/matter/storeFamily",createMatterForm,null,t.target);break;case"createActorSubmit":p("/actor",createActorForm,null,t.target);break;case"createUserSubmit":p("/user",createUserForm,null,t.target);break;case"createDActorSubmit":p("/default_actor",createDActorForm,null,t.target);break;case"createEventNameSubmit":p("/eventname",createEventForm,null,t.target);break;case"createCountrySubmit":p("/countries",createCountryForm,null,t.target);break;case"createCategorySubmit":p("/category",createCategoryForm,null,t.target);break;case"createRoleSubmit":p("/role",createRoleForm,null,t.target);break;case"createTypeSubmit":p("/type",createTypeForm,null,t.target);break;case"createRuleSubmit":p("/rule",createRuleForm,null,t.target);break;case"createFeeSubmit":p("/fee",createFeeForm,null,t.target);break;case"createClassSubmit":p("/document",createClassForm,null,t.target);break;case"createMemberSubmit":p("/template-member",createMemberForm,null,t.target);break;case"createClassifierTypeSubmit":p("/classifier_type",createClassifierTypeForm,null,t.target);break;case"sendDocument":p("/document",sendDocumentForm,null,t.target);break;case"addEventTemplateSubmit":p("/event-class",addTemplateForm,"reloadPartial",t.target);break;case"addRuleTemplateSubmit":p("/rule-class",addTemplateForm,"reloadPartial",t.target);break;case"deleteActor":case"deleteRule":case"deleteEName":case"deleteRole":case"deleteType":case"deleteDActor":case"deleteClassifierType":case"deleteCategory":case"deleteCountry":case"deleteClass":case"deleteMember":confirm("Deleting  "+t.target.dataset.message+". Continue anyway?")&&S(t.target.dataset.url,"DELETE").then(y=>{if(y.status==="success")location.reload();else{if(y.message)return alert("Couldn't delete "+t.target.dataset.message+". Check the dependencies. Database said: "+y.message),!1;location.reload()}});break;case"regenerateTasks":confirm(`Regenerating the tasks will delete all the existing automatically created tasks and renewals for this event.
Past tasks will not be recreated - make sure they have been dealt with.
Continue anyway?`)&&S("/event/"+t.target.dataset.event_id+"/recreateTasks","POST").then(()=>I(T,ajaxModal.querySelector(".modal-body")));break;case"updateCredentials":const c=t.target.form,f=new URLSearchParams,v=c.elements.login;v.value!==v.defaultValue&&f.append("login",v.value);const k=c.elements.password;if(k.value&&(f.append("password",k.value),f.append("password_confirmation",c.elements.password_confirmation.value)),f.toString()==="")return;t.target.insertAdjacentHTML("afterbegin",'<span class="loading loading-spinner loading-sm mr-2"></span>'),t.target.disabled=!0,c.querySelectorAll(".is-valid, .is-invalid").forEach(y=>{y.classList.remove("is-valid","is-invalid");const m=y.nextElementSibling;m&&m.classList.contains("invalid-feedback")&&m.remove()}),S(c.dataset.resource,"PUT",f).then(y=>{const m=t.target.querySelector(".loading");m&&m.remove(),t.target.disabled=!1,y.errors?Object.entries(y.errors).forEach(([L,A])=>{const q=c.elements[L];if(q){q.classList.add("is-invalid");const C=document.createElement("div");C.className="invalid-feedback",C.textContent=A[0],q.parentNode.appendChild(C)}}):(Array.from(f.keys()).forEach(L=>{const A=c.elements[L];A&&A.classList.add("is-valid")}),f.has("login")&&(v.defaultValue=v.value),f.has("password")&&(k.value="",c.elements.password_confirmation.value=""))});break}if(t.target.matches("#ncountries .btn-outline-danger")&&t.target.parentNode.remove(),t.target.hasAttribute("data-panel")){t.preventDefault();let c=t.target.closest("tbody").querySelector(".table-info");c&&c.classList.remove("table-info"),t.target.closest("tr").classList.add("table-info"),T=t.target.href,window.contentSrc=T;let f=document.getElementById(t.target.dataset.panel);I(t.target.href,f)}}),app.addEventListener("change",t=>{t.target.matches(".noformat")&&setTimeout(()=>{let i=new URLSearchParams;t.target.type==="checkbox"&&(t.target.checked?t.target.value=1:t.target.value=0),i.append(t.target.name,t.target.value);let l=t.target.closest("[data-resource]").dataset.resource;S(l,"PUT",i).then(o=>{if(o.errors)ajaxModal.matches(".show")?(footerAlert.innerHTML=Object.values(o.errors)[0],footerAlert.classList.add("alert-danger")):(t.target.classList.remove("border-info","is-valid"),t.target.classList.add("border-danger"),t.target.value=Object.values(o.errors)[0]);else if(o.message&&o.status!=="success")ajaxModal.matches(".show")?(footerAlert.innerHTML=o.message,footerAlert.classList.add("alert-danger")):(t.target.classList.remove("border-info","is-valid"),t.target.classList.add("border-danger"),t.target.value="Invalid",console.log(o.message));else{if(!window.ajaxPanel&&T&&!t.target.closest(".tab-content"))I(T,ajaxModal.querySelector(".modal-body"));else{t.target.classList.remove("border-info","border-danger"),t.target.classList.add("is-valid");var d=new Event("xhrsent",{bubbles:!0});t.target.dispatchEvent(d)}footerAlert.classList.remove("alert-danger"),footerAlert.innerHTML=""}}).catch(o=>console.log(o))})}),ajaxModal.addEventListener("close",t=>{ajaxModal.querySelector(".modal-body").innerHTML='<span class="loading loading-spinner loading-lg text-primary"></span>',ajaxModal.querySelector(".modal-title").innerHTML="Ajax title placeholder";const i=ajaxModal.querySelector(".modal-box");i.classList.remove("max-w-sm","max-w-md","max-w-lg","max-w-xl","max-w-4xl"),i.classList.add("max-w-2xl"),footerAlert.innerHTML="",footerAlert.classList.remove("text-error")}),app.addEventListener("input",t=>{t.target.matches(".noformat, textarea, [contenteditable]")?t.target.classList.add("border","border-info"):t.target.classList.contains("is-invalid")&&t.target.classList.remove("is-invalid")});let e=!1;const s=function(t,i){i.setAttribute("data-selected",t.value);const l=i.dataset.actarget;if(i.id=="addCountry"){let d=appendCountryTemplate.content.children[0].cloneNode(!0);d.id="country-"+t.key,d.children[0].value=t.key,d.children[1].value=t.value,ncountries.appendChild(d),setTimeout(()=>{addCountry.value=""},200)}else if(l){i.value=t.value;const d=i.parentNode.querySelector(`input[name="${l}"]`);d.value=t.key,window.createMatterForm&&l=="category_code"&&S("/matter/new-caseref?term="+t.prefix,"GET").then(w=>{createMatterForm.caseref.value=w[0].value})}else i.value=t.key,i.addEventListener("xhrsent",d=>{i.value=t.value});const o=new CustomEvent("acCompleted",{detail:t});if(i.dispatchEvent(o),i.form){const d=Array.from(i.form.querySelectorAll('input:not([type="hidden"])')),c=(d.indexOf(i)+1)%d.length;setTimeout(()=>{d[c].focus()})}},a=async function(t,i){try{const l=new URL(t.getAttribute("data-ac"),window.location.origin),o=t.value,d=t.getAttribute("data-aclength")||1;if(o.length<d){i.classList.remove("show");return}l.searchParams.append("term",t.value);const w=await fetch(l);if(!w.ok)throw new Error("Network response was not ok");const c=await w.json();if(!Array.isArray(c))throw new Error("Invalid response format");if(i.innerHTML="",c.length===0){i.classList.remove("show");return}c.forEach(f=>{const v=document.createElement("a");v.classList.add("dropdown-item"),v.href="#",v.textContent=f.label||f.value,v.addEventListener("mousedown",function(k){e=!0,s(f,t)}),i.appendChild(v)}),i.classList.add("show")}catch(l){console.error("Autocomplete error:",l),i.classList.remove("show")}},r=function(t){t.setAttribute("data-oldvalue",t.value);const i=document.createElement("ul");i.classList.add("dropdown-menu"),i.classList.add("py-0"),t.insertAdjacentElement("afterend",i),t.addEventListener("input",function(){a(t,i)}),t.addEventListener("blur",function(){i.innerHTML="",i.classList.remove("show")}),t.addEventListener("change",function(l){const o=t.getAttribute("data-actarget");if(o&&t.value.trim()===""){const d=document.querySelector(`input[name="${o}"]`);d.value=""}e||t.value!==""&&(t.value=t.dataset.oldvalue||t.dataset.selected||"",l.stopPropagation()),e=!1}),t.addEventListener("keydown",function(l){const o=i.querySelectorAll(".dropdown-item"),d=i.querySelector(".active");switch(l.key){case"Tab":case"ArrowDown":l.preventDefault(),d?(d.classList.remove("active"),d.nextElementSibling?d.nextElementSibling.classList.add("active"):o[0].classList.add("active")):o.length>0&&o[0].classList.add("active");break;case"ArrowUp":l.preventDefault(),d?(d.classList.remove("active"),d.previousElementSibling?d.previousElementSibling.classList.add("active"):o[o.length-1].classList.add("active")):o.length>0&&o[o.length-1].classList.add("active");break;case"Enter":d&&d.dispatchEvent(new Event("mousedown"));break;case"Escape":i.innerHTML="",i.classList.remove("show"),l.stopPropagation();break}})},n=function(t){if(t.dataset.comboboxReady)return;const i=t.dataset.comboboxTarget;if(!i)return;const o=(t.closest("form")||document).querySelector(i);if(!(o instanceof HTMLSelectElement))return;const d=t.getAttribute("list"),w=d?document.getElementById(d):null,c=Array.from(o.options).map(m=>({element:m,code:m.value,label:m.textContent.trim()})),f=m=>c.find(L=>String(L.code)===String(m))||null,v=(m,L=!1)=>{const A=m.trim().toLowerCase();if(!A)return null;let q=c.find(C=>C.label.toLowerCase()===A);if(!q&&w){const C=Array.from(w.options).find(M=>M.value.trim().toLowerCase()===A);if(C){const M=C.dataset.code??C.value;q=c.find(N=>String(N.code)===String(M))||null,q||(q={code:M,label:C.value})}}return!q&&L&&(q=c.find(C=>C.label.toLowerCase().startsWith(A))),q||null},k=m=>{const L=m?m.code:"";o.value!==L&&(o.value=L,o.dispatchEvent(new Event("change",{bubbles:!0}))),m&&(t.value=m.label)},y=()=>{const m=f(o.value);m?(t.value=m.label,t.classList.remove("text-base-content/50")):o.value||(t.value="")};t.addEventListener("focus",()=>{t.select()}),t.addEventListener("input",m=>{const L=v(m.target.value);L?k(L):m.target.value.trim()||k(null)}),t.addEventListener("change",m=>{const L=v(m.target.value,!0);L?k(L):y()}),t.addEventListener("blur",()=>{const m=v(t.value,!0);m?k(m):y()}),o.addEventListener("change",()=>{document.activeElement!==t&&y()}),t.value.trim()||y(),t.dataset.comboboxReady="true"},h=function(t){if(t.dataset.filterReady)return;const i=t.getAttribute("data-filter-target");if(!i)return;const o=(t.closest("form")||document).querySelector(i);if(!(o instanceof HTMLSelectElement))return;const d=Array.from(o.options).map(c=>({element:c,originalHidden:c.hidden,text:c.textContent.toLowerCase()})),w=c=>{const f=c.trim().toLowerCase();d.forEach(({element:v,originalHidden:k,text:y})=>{if(!k){if(f===""){v.hidden=!1;return}v.hidden=!y.includes(f)}})};t.addEventListener("input",c=>{w(c.target.value)}),t.addEventListener("keydown",c=>{if(c.key==="Enter"){c.preventDefault();const f=d.find(({element:v,originalHidden:k})=>!v.hidden&&!k);f&&(o.value=f.element.value,o.dispatchEvent(new Event("change",{bubbles:!0})))}}),t.dataset.filterReady="true"};document.querySelectorAll("[data-ac]").forEach(t=>{r(t)}),document.querySelectorAll("[data-combobox-target]").forEach(t=>{n(t)}),document.querySelectorAll("[data-filter-input]").forEach(t=>{h(t)}),new MutationObserver(function(t){t.forEach(function(i){i.addedNodes.forEach(function(l){l.nodeType===Node.ELEMENT_NODE&&(l.querySelectorAll("[data-ac]").forEach(c=>{c.hasAttribute("data-oldvalue")||r(c)}),l.querySelectorAll("[data-combobox-target]").forEach(c=>{n(c)}),l.querySelectorAll("[data-filter-input]").forEach(c=>{h(c)}))})})}).observe(document.body,{childList:!0,subtree:!0}),app.addEventListener("focusout",t=>{if(t.target.matches("[contenteditable]")&&t.target.innerText!==te){let i=new URLSearchParams;i.append(t.target.dataset.name,t.target.innerText);let l=t.target.closest("[data-resource]").dataset.resource;S(l,"PUT",i).then(o=>{t.target.classList.remove("border-info")})}});var E;ajaxModal.addEventListener("dragstart",t=>{t.dataTransfer.dropEffect="move",t.dataTransfer.setData("text/plain",null),E=t.target.parentNode,t.target.classList.replace("bg-light","bg-info")}),ajaxModal.addEventListener("dragover",t=>{let i=t.target.closest(E.tagName);i&&(E.rowIndex>i.rowIndex?i.parentNode.insertBefore(E,i):i.parentNode.insertBefore(E,i.nextSibling))}),ajaxModal.addEventListener("drop",t=>{t.preventDefault()}),ajaxModal.addEventListener("dragend",t=>{for(const i of E.parentNode.children)if(i.rowIndex!=i.dataset.n){let l=i.querySelector('[name="display_order"]');l.value=i.rowIndex,i.dataset.n=i.rowIndex;let o=new URLSearchParams;o.append("display_order",l.value),S(i.dataset.resource,"PUT",o)}E=""}),app.addEventListener("xhrsent",t=>{const i=t.target.closest(".reload-part");i&&i.dataset.resource&&I(i.dataset.resource,i)}),app.addEventListener("change",t=>{if(t.target.matches("#nameLocaleSelect")){const i=t.target.value,l=t.target.parentElement.querySelector('input[type="text"]'),o=document.getElementById("nameInputs"),d=o.querySelector(`input[data-locale="${i}"]`);l.name=`name[${i}]`,l.value=d?d.value:"";const w=()=>{const c=o.querySelector(`input[data-locale="${i}"]`);c&&(c.value=l.value)};l.removeEventListener("input",w),l.addEventListener("input",w)}else if(t.target.matches("#nameLocaleSelectReadonly")){const i=t.target.value,l=t.target.parentElement.querySelector("span"),o=t.target.closest(".reload-part");o&&o.dataset.resource&&fetch(o.dataset.resource+"?locale="+i).then(d=>d.text()).then(d=>{const c=new DOMParser().parseFromString(d,"text/html").querySelector("span.form-control-sm");c&&(l.textContent=c.textContent)})}})}window.Alpine=V;ee(V);window.fetchInto=I;window.fetchREST=S;window.reloadPart=se;window.debounce=ae;window.submitModalForm=p;window.processSubmitErrors=F;window.contentSrc="";const P=document.getElementById("actorPanel");let D=null;(async()=>(P&&(D=await _(()=>import("./matter-show-Db2olNqw.js"),__vite__mapDeps([0,1])),D.registerImageUpload()),V.start()))();document.addEventListener("DOMContentLoaded",()=>{re(),document.getElementById("alltasks")&&_(async()=>{const{initHome:e}=await import("./home-CSx43jG4.js");return{initHome:e}},__vite__mapDeps([2,1])).then(({initHome:e})=>e()),P&&(D?D.initMatterShow():_(async()=>{const{initMatterShow:e}=await import("./matter-show-Db2olNqw.js");return{initMatterShow:e}},__vite__mapDeps([0,1])).then(({initMatterShow:e})=>e())),document.getElementById("tableList")&&_(async()=>{const{initTables:e}=await import("./tables-DQ0t9D2c.js");return{initTables:e}},__vite__mapDeps([3,1])).then(({initTables:e})=>e()),document.getElementById("matterList")&&_(async()=>{const{initMatterIndex:e}=await import("./matter-index-WKDltPV2.js");return{initMatterIndex:e}},__vite__mapDeps([4,1])).then(({initMatterIndex:e})=>e()),document.getElementById("renewalList")&&_(async()=>{const{initRenewalIndex:e}=await import("./renewal-index-D2_nCMWt.js");return{initRenewalIndex:e}},__vite__mapDeps([5,1])).then(({initRenewalIndex:e})=>e()),document.getElementById("actorList")&&_(async()=>{const{initActorIndex:e}=await import("./actor-index-EbTK2Hjg.js");return{initActorIndex:e}},__vite__mapDeps([6,1])).then(({initActorIndex:e})=>e()),document.getElementById("userList")&&_(async()=>{const{initUserIndex:e}=await import("./user-index-BfEj-RPV.js");return{initUserIndex:e}},__vite__mapDeps([7,1])).then(({initUserIndex:e})=>e())});export{I as a,ae as d,S as f,F as p,se as r};
