import{a as s,f as c,r as d}from"./app-BNcfSzD8.js";import"./alpine-BkKOMYu4.js";let n=0;function l(e){const a=new URLSearchParams(window.location.search).get("user_dashboard");n=e,e==="2"&&(e=clientId.value);let r="/task?what_tasks="+e;a!=null&&(r+="&user_dashboard="+a),s(r,tasklist),r+="&isrenewals=1",s(r,renewallist);const o="/home?what_tasks="+e;d(o,"leftPanels")}function k(){document.getElementById("alltasks").checked=!0,document.querySelector('[data-actarget="client_id"]').addEventListener("acCompleted",()=>{clientTasks.checked=!0,l("2")}),filter.onchange=e=>{e.target.name==="what_tasks"&&l(e.target.value)},filter.onclick=e=>{e.target.matches(".page-link")&&(e.preventDefault(),s(e.target.href,e.target.closest(".card-body")))},clearRenewals.onclick=()=>{let e=new URLSearchParams,t=renewallist.querySelectorAll("input:checked");if(t.length===0){alert("No renewals selected for clearing!");return}t.forEach(a=>{e.append("task_ids[]",a.id)}),e.append("done_date",renewalcleardate.value),c("/matter/clear-tasks","POST",e).then(a=>{a.errors===""?l(n):alert(a.errors.done_date)})},clearOpenTasks.onclick=()=>{let e=new URLSearchParams,t=tasklist.querySelectorAll("input:checked");if(t.length===0){alert("No tasks selected for clearing!");return}t.forEach(a=>{e.append("task_ids[]",a.id)}),e.append("done_date",taskcleardate.value),c("/matter/clear-tasks","POST",e).then(a=>{a.errors===""?l(n):alert(a.errors.done_date)})}}export{k as initHome};
