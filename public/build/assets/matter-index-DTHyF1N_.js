import{d as o,r as c}from"./app-BNcfSzD8.js";import"./alpine-BkKOMYu4.js";function f(){const t=new URL(window.location.href);function a(){t.searchParams.delete("page"),window.history.pushState("","phpIP",t),c(t,"matterList")}const s=document.getElementById("filterFields");s&&(s.onclick=e=>{if(e.target.matches(".sortable")){for(const r of s.getElementsByClassName("sortable"))r.classList.remove("active"),r.innerHTML="&UpDownArrow;";e.target.classList.add("active"),t.searchParams.set("sortkey",e.target.dataset.sortkey),t.searchParams.set("sortdir",e.target.dataset.sortdir),e.target.dataset.sortdir==="asc"?(e.target.dataset.sortdir="desc",e.target.innerHTML="&uarr;"):(e.target.dataset.sortdir="asc",e.target.innerHTML="&darr;"),a()}},s.addEventListener("input",o(e=>{e.target.value.length===0?t.searchParams.delete(e.target.name):t.searchParams.set(e.target.name,e.target.value),a()},500)));const n=document.getElementById("filterButtons");n&&(n.onchange=e=>{if(e.target.name==="Ctnr")e.target.checked?t.searchParams.set("Ctnr","1"):t.searchParams.delete("Ctnr"),a();else if(e.target.name==="responsible"){if(e.target.checked){const r=document.querySelector('label[for="btnshowmine"]');t.searchParams.set("responsible",r.dataset.responsible)}else t.searchParams.delete("responsible");a()}else e.target.name==="include_dead"&&(e.target.checked?t.searchParams.set("include_dead","1"):t.searchParams.delete("include_dead"),a())});const i=document.getElementById("exportList");i&&(i.onclick=e=>{let r="/matter/export"+t.search;e.preventDefault(),window.location.href=r});const l=document.getElementById("clearFilters");l&&(l.onclick=()=>{window.location.href="/matter"})}export{f as initMatterIndex};
