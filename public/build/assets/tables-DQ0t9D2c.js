import{d as c,r as i}from"./app-C8_l7NaG.js";import"./alpine-BkKOMYu4.js";function f(){const a=new URL(window.location.href);document.querySelectorAll("#filter input").forEach(e=>{const t=a.searchParams.get(e.name);if(t){e.value=t;const r=e.parentElement.querySelector(".clear-filter");r&&(r.style.display="block")}});function n(){window.history.pushState("","phpIP",a),i(a,"tableList")}const l=document.getElementById("filter");l&&l.addEventListener("input",c(e=>{if(e.target.value.length===0){a.searchParams.delete(e.target.name);const t=e.target.parentElement.querySelector(".clear-filter");t&&(t.style.display="none")}else{a.searchParams.set(e.target.name,e.target.value);const t=e.target.parentElement.querySelector(".clear-filter");t&&(t.style.display="block")}a.searchParams.delete("page"),n()},300)),document.addEventListener("click",e=>{if(e.target.closest(".clear-filter")){const t=e.target.closest(".clear-filter"),r=t.dataset.target,s=document.querySelector(`input[name="${r}"]`);s&&(s.value="",t.style.display="none",a.searchParams.delete(r),a.searchParams.delete("page"),n())}}),ajaxModal.addEventListener("hidden.bs.modal",function(e){n()}),ajaxPanel.addEventListener("xhrsent",function(e){n()})}export{f as initTables};
